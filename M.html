<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For Tanishqua</title>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Dancing+Script:wght@700&family=Playfair+Display:ital,wght@0,700;1,700&display=swap');

        :root {
            --accent: #ff4d6d;
            --gold: #d4af37;
            --glass: rgba(255, 255, 255, 0.08);
            --border: rgba(255, 255, 255, 0.15);
        }

        body, html {
            margin: 0; padding: 0; width: 100%; height: 100%;
            font-family: 'Inter', sans-serif;
            background-color: #050505; overflow: hidden; color: white;
        }

        #bg {
            position: fixed; inset: 0; z-index: -1;
            background: linear-gradient(45deg, #050505, #1a1a2e, #0a0a1a, #050505);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
        }

        #bg::after {
            content: ""; position: absolute; inset: 0;
            background-image: url('https://www.transparenttextures.com/patterns/stardust.png');
            opacity: 0.4; pointer-events: none;
        }

        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .screen {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            display: none; flex-direction: column; justify-content: center; align-items: center;
            text-align: center; padding: 20px; box-sizing: border-box;
            transition: opacity 0.8s ease; opacity: 0;
        }

        .glass-panel {
            background: var(--glass);
            backdrop-filter: blur(25px);
            -webkit-backdrop-filter: blur(25px);
            border: 1px solid var(--border);
            border-radius: 30px;
            padding: 40px 30px;
            box-shadow: 0 25px 50px rgba(0,0,0,0.5);
            max-width: 400px; width: 90%;
        }

        .main-heart {
            width: 100px; height: 100px; cursor: pointer;
            fill: var(--accent); filter: drop-shadow(0 0 20px var(--accent));
            animation: breathe 2s infinite ease-in-out;
        }

        @keyframes breathe {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.15); }
        }

        .stack { position: relative; width: 280px; height: 180px; margin: 40px 0; }
        
        .card {
            position: absolute; width: 100%; height: 100%;
            background: #fff; color: #111; border-radius: 20px;
            display: flex; justify-content: center; align-items: center;
            font-weight: 600; cursor: pointer;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            transition: 0.7s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            user-select: none;
        }

        .gold-card {
            background: linear-gradient(135deg, #bf953f, #fcf6ba, #b38728);
            color: #432818; z-index: 1; border: 2px solid var(--gold);
        }

        #ny-overlay {
            position: fixed; inset: 0; z-index: 500;
            background: rgba(0,0,0,0.92); display: none;
            justify-content: center; align-items: center;
        }

        .ny-box {
            width: 320px; height: 480px; 
            background: #0a0a0a;
            border-radius: 20px; border: 4px double var(--gold);
            padding: 30px; color: white; position: relative;
            transform: scale(0.5); opacity: 0; transition: 0.8s ease-out;
        }

        .ny-box.active { transform: scale(1); opacity: 1; }

        #typing-box {
            max-width: 550px; line-height: 1.8; font-size: 1.05rem;
            text-align: left; padding: 25px; height: 60vh;
            overflow-y: auto; scrollbar-width: none;
            white-space: pre-wrap;
        }

        .btn {
            background: var(--gold); color: black; border: none;
            padding: 14px 35px; border-radius: 50px; font-weight: 900;
            cursor: pointer; margin-top: 20px; box-shadow: 0 5px 15px rgba(212,175,55,0.4);
        }

        .heart-rain { position: absolute; pointer-events: none; animation: fall 4s linear forwards; color: var(--accent); z-index: 1000; }
        @keyframes fall { to { transform: translateY(110vh) rotate(360deg); opacity: 0; } }
    </style>
</head>
<body>

    <div id="bg"></div>

    <audio id="mySong" loop preload="auto">
        <source src="song.mp3" type="audio/mpeg">
    </audio>

    <div id="s1" class="screen" style="display: flex; opacity: 1;">
        <div class="glass-panel">
            <svg class="main-heart" viewBox="0 0 32 32" onclick="startApp()">
                <path d="M16 28.5L14.1 26.8C7.33 20.65 3 16.71 3 11.91 3 7.96 6.06 4.91 10 4.91c2.23 0 4.37 1.04 5.74 2.68 1.37-1.64 3.51-2.68 5.74-2.68 3.94 0 7 3.05 7 7 0 4.8-4.33 8.74-11.1 14.91L16 28.5z"/>
            </svg>
            <h1 style="font-family: 'Playfair Display'; font-size: 2.2rem; margin: 20px 0;">For Tanishqq_6ü´ß</h1>
            <p style="font-size: 0.7rem; letter-spacing: 4px; opacity: 0.6;">TAP THE HEART TO UNLOCK MAGIC</p>
        </div>
    </div>

    <div id="s2" class="screen">
        <h2 style="font-family: 'Playfair Display';">Clear the way for 2026...</h2>
        <div class="stack">
            <div id="ticket" class="card gold-card" onclick="openTicket()">
                <span id="t-label">Remove obstacles first</span>
            </div>
            <div class="card" style="z-index:5" onclick="swipe(this)">NEGATIVITY</div>
            <div class="card" style="z-index:4" onclick="swipe(this)">STRESS</div>
            <div class="card" style="z-index:3" onclick="swipe(this)">DISTANCE</div>
            <div class="card" style="z-index:2" onclick="swipe(this)">BAD VIBES</div>
        </div>
        <button id="ny-btn" class="btn" style="display:none" onclick="showNYCard()">Unlock New Year</button>
    </div>

    <div id="ny-overlay">
        <div class="ny-box" id="ny-box">
            <div id="ny-front" style="margin-top: 60px; text-align: center;">
                <div style="font-size: 50px;">üéâ</div>
                <h2 style="font-family: 'Playfair Display'; color: var(--gold);">HAPPY NEW YEAR<br>TANISHQUA</h2>
                <p style="color: #666; font-size: 0.8rem; margin-top: 40px;">OPENING...</p>
            </div>
            <div id="ny-inside" style="display: none; text-align: left;">
                <h3 style="font-family: 'Dancing Script'; color: var(--gold); font-size: 2rem; margin:0;">Happy New Year Gorgeous,</h3>
                <p style="font-size: 0.85rem; line-height: 1.6; color: #ccc; margin-top: 15px;">May this year find you with real and pure love. May success follow you in every step and negativity vanish from your path.</p>
                <p style="font-style: italic; font-size: 0.9rem; color: #ff85a1; border-left: 3px solid #ff4d6d; padding-left: 10px; margin-top: 20px;">"May this year touch you gently and if it doesn't... I hope you remember mine üòâ"</p>
            </div>
        </div>
    </div>

    <div id="s4" class="screen">
        <div id="typing-box" class="glass-panel"></div>
    </div>

    <script>
        const audio = document.getElementById('mySong');
        let removed = 0;

        // CRITICAL FIX: Try to play audio on any click to bypass browser blocks
        document.addEventListener('click', function() {
            if (audio.paused) {
                audio.play().catch(e => console.log("Audio waiting for heart..."));
            }
        }, { once: false });

        function startApp() {
            // Attempt to play audio
            var playPromise = audio.play();

            if (playPromise !== undefined) {
                playPromise.then(_ => {
                    console.log("Audio started successfully!");
                }).catch(error => {
                    console.log("Audio failed to start. Check if song.mp3 exists in the same folder.");
                });
            }
            transition('s1', 's2');
        }

        function swipe(el) {
            el.style.transform = "translate(500px, -200px) rotate(45deg)";
            el.style.opacity = "0";
            removed++;
            if(removed === 4) {
                document.getElementById('t-label').innerText = "SPANK ME";
            }
        }

        function openTicket() {
            if(removed < 4) return;
            document.getElementById('t-label').innerHTML = "‚ú® 2026 Bless you with Success ‚ú®";
            document.getElementById('ny-btn').style.display = "block";
        }

        function showNYCard() {
            document.getElementById('ny-overlay').style.display = 'flex';
            setTimeout(() => { document.getElementById('ny-box').classList.add('active'); }, 100);
            
            setTimeout(() => {
                document.getElementById('ny-front').style.display = 'none';
                document.getElementById('ny-inside').style.display = 'block';
                
                setTimeout(() => {
                    document.getElementById('ny-overlay').style.display = 'none';
                    transition('s2', 's4');
                    startFinalTyping();
                }, 6500);
            }, 2500);
        }

        function transition(outId, inId) {
            const outEl = document.getElementById(outId);
            const inEl = document.getElementById(inId);
            outEl.style.opacity = '0';
            setTimeout(() => {
                outEl.style.display = 'none';
                inEl.style.display = 'flex';
                setTimeout(() => inEl.style.opacity = '1', 50);
            }, 800);
        }

        function startFinalTyping() {
            setInterval(createHeart, 400);
            const msg = `Heyy Meethi,\n\nTake your time today, the world can wait for you. ‚ù§Ô∏è\n\nI am so glad our paths crossed. Thank you for showing me how love feels, for being there, and for motivating me. \n\nI am deeply sorry for not being the person you desired, and for not understanding when you needed me most.\n\nThe end is definitely not the way we thought but, believe in God's plan. You will never be unloved by me, because you are too well tangled in my soul.\n\nDon't overthink about this. Get up, leave the past behind, and let everyone know who you really are. I only want to see you happy and smiling.\n\nTrust the process. Believe in yourself. Because you are always RIGHT ‚ù§Ô∏è ‚ú®`;

            let i = 0;
            const box = document.getElementById('typing-box');
            function type() {
                if(i < msg.length) {
                    box.innerHTML += msg.charAt(i);
                    i++;
                    box.scrollTop = box.scrollHeight;
                    setTimeout(type, 50);
                }
            }
            type();
        }

        function createHeart() {
            const h = document.createElement('div');
            h.className = 'heart-rain';
            h.innerHTML = '‚ù§Ô∏è';
            h.style.left = Math.random() * 100 + "vw";
            h.style.top = "-20px";
            h.style.fontSize = (Math.random() * 15 + 15) + "px";
            document.body.appendChild(h);
            setTimeout(() => h.remove(), 4000);
        }
    </script>
</body>
</html>